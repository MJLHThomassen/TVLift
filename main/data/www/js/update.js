(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["update"],{"0fd8":function(e,t,n){},"1a97":function(e,t,n){},"277f":function(e,t,n){},"2e8c":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"update"},[n("form",[n("fieldset",{staticClass:"col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"},[n("legend",[e._v("Update")]),n("div",{staticClass:"dropbox"},[n("input",{attrs:{id:"firmware-file-input",type:"file"},on:{change:e.firmwareFileChanged}}),e._m(0)]),n("button",{staticClass:"button primary",attrs:{disabled:!e.canUpdate,type:"button"},on:{click:e.update}},[e._v("Update!")])]),e.isUpdating||e.updateErrorMessage?n("fieldset",{staticClass:"col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"},[n("legend",[e._v("Status")]),n("div",[n("p",[e._v("Updating: "+e._s(e.updateProgress)+" %")]),n("progress",{staticClass:"primary",attrs:{max:"1000"},domProps:{value:10*e.updateProgress}})]),e.updateErrorMessage?n("div",{staticClass:"card fluid error"},[e._v(" "+e._s(e.updateErrorMessage)+" ")]):e._e()]):e._e()])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" Drag your file here to begin"),n("br"),e._v("or click to browse ")])}],a=(n("b0c0"),n("96cf"),n("1da1")),i=n("d4ec"),c=n("bee2"),r=n("99de"),l=n("7e84"),u=n("262e"),d=n("9ab4"),p=n("60a3"),f=n("0a35"),b=n("bc3a"),h=n.n(b),v=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(r["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.selectedFirmwareFile=null,e.isUpdating=!1,e.updateProgress=0,e.updateErrorMessage="",e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"firmwareFileChanged",value:function(e){var t=e.target;null!=t&&null!=t.files&&(this.selectedFirmwareFile=t.files[0])}},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.selectedFirmwareFile){e.next=2;break}return e.abrupt("return");case 2:return this.updateErrorMessage="",this.isUpdating=!0,t=new FormData,t.set("firmware",this.selectedFirmwareFile,this.selectedFirmwareFile.name),e.prev=6,e.next=9,h.a.post("upload/firmware",t,{onUploadProgress:function(e){s.updateProgress=Math.round(100*e.loaded/e.total)}});case 9:n=e.sent,console.log(n),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](6),this.updateProgress=0,this.isAxiosError(e.t0)?(console.log(e.t0.message),this.updateErrorMessage=e.t0.message):(console.log("Something went wrong: "+e.t0),this.updateErrorMessage=e.t0);case 17:this.isUpdating=!1;case 18:case"end":return e.stop()}}),e,this,[[6,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isAxiosError",value:function(e){return e.isAxiosError}},{key:"canUpdate",get:function(){return null!=this.selectedFirmwareFile&&!this.isUpdating}}]),t}(p["c"]);v=Object(d["a"])([Object(p["a"])({components:{UploadIcon:f["d"]}})],v);var g=v,k=g,w=(n("4ca6"),n("2877")),m=Object(w["a"])(k,s,o,!1,null,null,null);t["default"]=m.exports},4946:function(e,t,n){},"4ca6":function(e,t,n){"use strict";var s=n("277f"),o=n.n(s);o.a},"4ddb":function(e,t,n){"use strict";var s=n("0fd8"),o=n.n(s);o.a},"5cc4":function(e,t,n){"use strict";var s=n("4946"),o=n.n(s);o.a},c32d:function(e,t,n){"use strict";var s=n("1a97"),o=n.n(s);o.a},c78d:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card fluid home"},[n("h2",{staticClass:"section double-padded"},[e._v("Lift Controls")]),n("div",{staticClass:"section double-padded"},[n("div",{staticClass:"col-12"},[n("button",{on:{click:e.liftGoUp}},[n("arrow-up-icon",{attrs:{size:"5x"}})],1)]),n("div",{staticClass:"col-12"},[n("button",{on:{click:e.liftStop}},[n("square-icon",{staticClass:"stop-button",attrs:{size:"5x"}})],1)]),n("div",{staticClass:"col-12"},[n("button",{on:{click:e.liftGoDown}},[n("arrow-down-icon",{attrs:{size:"5x"}})],1)])])])},o=[],a=n("d4ec"),i=n("bee2"),c=n("99de"),r=n("7e84"),l=n("262e"),u=n("9ab4"),d=n("60a3"),p=n("0a35"),f=n("bc3a"),b=n.n(f),h=function(e){function t(){return Object(a["a"])(this,t),Object(c["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"liftGoUp",value:function(){b.a.post("/api/lift/up")}},{key:"liftGoDown",value:function(){b.a.post("/api/lift/down")}},{key:"liftStop",value:function(){b.a.post("/api/lift/stop")}}]),t}(d["c"]);h=Object(u["a"])([Object(d["a"])({components:{ArrowUpIcon:p["b"],ArrowDownIcon:p["a"],SquareIcon:p["c"]}})],h);var v=h,g=v,k=(n("c32d"),n("2877")),w=Object(k["a"])(g,s,o,!1,null,null,null);t["default"]=w.exports},e94b:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"debug row"},[n("div",{staticClass:"col-sm"},[n("h1",[e._v("Debug")]),n("p",[e._v("Log")]),n("console",{attrs:{entries:e.consoleLines}})],1)])},o=[],a=n("d4ec"),i=n("bee2"),c=n("99de"),r=n("7e84"),l=n("262e"),u=n("9ab4"),d=n("60a3"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"console",staticClass:"console"},e._l(e.consoleLines,(function(t){return n("span",{key:t.index,staticClass:"code-line"},e._l(t.spans,(function(t,s){return n("span",{key:s,style:t.css},[e._v(" "+e._s(t.text)+" ")])})),0)})),0)},f=[],b=(n("4160"),n("a434"),n("d3b7"),n("ac1f"),n("5319"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),h=n("0c84"),v=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(c["a"])(this,Object(r["a"])(t).call(this)),e.consoleLines=[],e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"write",value:function(e){this.addConsoleLines(e)}},{key:"writeLine",value:function(e){this.write(e+"\n")}},{key:"addConsoleLines",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=h["parse"](t),s.spans.forEach((function(e){e.text=e.text.replace(" ","Â ")})),this.consoleLines.push({index:this.consoleLines.length,spans:s.spans}),e.next=5,this.$nextTick();case 5:null===(n=this.$refs.console.lastElementChild)||void 0===n||n.scrollIntoView(!0);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onEntriesChanged",value:function(e,t){var n=this;0!==e.length&&(e.forEach((function(e){return n.write(e)})),this.entries.splice(0,this.entries.length))}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])()],v.prototype,"entries",void 0),Object(u["a"])([Object(d["d"])("entries")],v.prototype,"onEntriesChanged",null),v=Object(u["a"])([d["a"]],v);var g=v,k=g,w=(n("5cc4"),n("2877")),m=Object(w["a"])(k,p,f,!1,null,"5e23b38b",null),O=m.exports,j=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(c["a"])(this,Object(r["a"])(t).call(this)),e.WebsocktUri="ws://"+location.host+"/api",e.webSocket=null,e.consoleLines=[],e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){var e=this;try{this.webSocket=new WebSocket(this.WebsocktUri)}catch(t){return void this.consoleLines.push(h["red"]("Could not connect to debug socket!"))}setTimeout((function(){null!=e.webSocket&&e.webSocket.readyState!==WebSocket.OPEN&&e.webSocket.close()}),1e3),this.webSocket.onopen=this.onWebSocketOpen,this.webSocket.onerror=this.onWebSocketError,this.webSocket.onmessage=this.onWebSocketMessage,this.webSocket.onclose=this.onWebSocketClose}},{key:"onWebSocketOpen",value:function(e){this.consoleLines.push("Connected")}},{key:"onWebSocketError",value:function(e){this.consoleLines.push(h["red"]("Could not connect to debug socket!"))}},{key:"onWebSocketMessage",value:function(e){this.consoleLines.push(e.data)}},{key:"onWebSocketClose",value:function(e){this.consoleLines.push("Closed")}}]),t}(d["c"]);j=Object(u["a"])([Object(d["a"])({components:{Console:O}})],j);var C=j,y=C,_=(n("4ddb"),Object(w["a"])(y,s,o,!1,null,null,null));t["default"]=_.exports}}]);